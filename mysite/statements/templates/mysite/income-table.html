{% load static %}
{% load i18n %}
<head>
  <link rel="stylesheet" href="{% static 'css/data-table.css' %}">
</head>

<h1 style="text-align: center"><span data-bs-toggle="tooltip" title="Shows your profit and loss over a set period of time.">{% trans "Income/P&L statement from fisheries operations" %}</span></h1>
<div class="lead" style="text-align: center">
  {{ user.first_name }} {{ user.last_name }}, <span class="start-date-display"></span> - <span class="end-date-display"></span>
</div>
<table id="income-table" class="table table-striped" style="width: 100%">
  <thead>
    <tr>
      <th style="background-color: #ffffff">{% trans "Type" %} ({{ currency }})</th>
      <th style="background-color: #ffffff">{% trans "Source" %}</th>
      {% for date in income_dates %}
        <th class="dt-head-right">{{ date }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for row in income_table %}
    <tr>
      {% if row.metric == 'Revenue' and row.source == 'Fish' %}
        <td><span data-bs-toggle="tooltip" title = "Revenue is the money that is generated by the sale of fish or supplies.">{{ row.metric }}</span></td>
      {% elif row.metric == 'Expenses' and row.source == 'Fish' %}
        <td><span data-bs-toggle="tooltip" title = "Expense is the money you need to pay for the fish or supplies you use or buy.">{{ row.metric }}</span></td>
      {% elif row.metric == 'Profit (Loss)' and row.source == 'Fish' %}
        <td><span data-bs-toggle="tooltip" title = "If revenue is greater than expenses during the same period of time, a profit is made. If expenses are greater than revenue during the same period of time, a loss is made."> {{ row.metric }}</span></td>
      {% elif row.metric == 'Net income' %}
        <td><span data-bs-toggle="tooltip" title="Net income is calculated by subtracting all expenses from all revenues during the same period of time. If the resulting balance is positive, an accounting profit is made; if the resulting balance is negative, an accounting loss is made.">{{ row.metric }}</span></td>
      {% else %}
        <td>{{ row.metric }}</td>
      {% endif %}
      <td>{{ row.source }}</td>
      {% for x in row.data %}
        <td class="dt-body-right"> {{ x }}</td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>
